<head>
  <title>JustArrived | CrowdCompass</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
</head>

<body>
  <div class='header'>
    <h1>JustArrived</h1>
  </div>
  <div class='content'>
  	{{> main}}
  </div>
  <div class='footer'>
  	{{> footer}}
  </div>
</body>

<template name="main">
  {{#if showAdmin}}
    {{> admin}}
 {{else}}
    {{> registration}}
 {{/if}}
</template>

<template name = "registration">
  {{#if registrationSubmitted }}
    <h2>Thanks for announcing your arrival!</h2>
  {{else }}
    <p>Share your arrival with others and stay connected after the event.</p>
    <form>
      {{#if showBadEmail}}
        {{> badEmail}}
      {{/if}}
      <label>Name</label><input id="name" placeholder="Arthur Digby Sellers" type="text">
      <label>Company</label><input id="company" placeholder="Sentinel Productions, Inc." type="text">
      <label>Email</label><input id="email" placeholder="ad.sellers@sentinelprod.com" type="email">
      <label>Twitter</label><input id="twitter" placeholder="@DigbySellers" type="text">
      <button>Announce Your Arrival!</button>
  {{/if}}
 		</form>
</template>

<template name = "footer">
  <a href = "http://crowdcompass.com">CrowdCompass | An Essential Part of Your Next Event</a>
  
  <div class="admin-footer">
    {{#if isAdmin}}
    <a href = "#" class = "admin">toggle admin</a> | 
    {{/if}}
    {{loginButtons}}
  </div>
</template>

<template name = "admin">
  <h2>Registered Attendees</h2>
  <table>
    <thead>
      <tr>
      	<th>Attendee</th>
        <th>Company</th>
      	<th>Email</th>
        <th>Twitter</th>
      	<th>Referrer</th>
        <th>Time</th>
      </tr>
    </thead>
    {{#each attendees}}
      <tr>
      		<td>{{ this.name }}</td><td>{{ this.company }}</td>
      		<td>{{ this.email }}</td><td>{{ this.twitter_id }}</td>
      		<td>{{ this.referrer }}</td><td>{{ this.timestamp }}</td>
      </tr>
    {{/each }}
  </table>
</template>

<template name="badEmail">
  <div class="error">
    <p>That's not a real email address...</p>
  </div>
</template>

